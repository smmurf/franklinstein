{"version":3,"file":"AccordionItem.js","sourceRoot":"","sources":["../src/AccordionItem.ts"],"names":[],"mappings":"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","sourcesContent":["import UI5Element from \"@ui5/webcomponents-base/dist/UI5Element.js\";\nimport customElement from \"@ui5/webcomponents-base/dist/decorators/customElement.js\";\nimport property from \"@ui5/webcomponents-base/dist/decorators/property.js\";\nimport slot from \"@ui5/webcomponents-base/dist/decorators/slot.js\";\nimport event from \"@ui5/webcomponents-base/dist/decorators/event.js\";\nimport litRender from \"@ui5/webcomponents-base/dist/renderer/LitRenderer.js\";\nimport \"@ui5/webcomponents/dist/Icon.js\";\nimport \"@ui5/webcomponents-icons/dist/AllIcons.js\";\nimport \"@ui5/webcomponents-icons/dist/feeder-arrow.js\";\n\nimport AccordionItemTemplate from \"./generated/templates/AccordionItemTemplate.lit.js\";\n\n// Styles\nimport AccordionItemCss from \"./generated/themes/AccordionItem.css.js\";\n\ntype ToggleAllEvent = {\n  isOpen: boolean\n}\n/**\n * @class\n *\n * <h3 class=\"comment-api-title\">Overview</h3>\n *\n *\n * <h3>Usage</h3>\n *\n * For the <code>udex-accordion-item</code>\n * <h3>ES6 Module Import</h3>\n *\n * <code>import @udex/web-components/dist/AccordionItem.js\";</code>\n *\n * @constructor\n * @author SAP SE\n * @alias udex.components.AccordionItem\n * @extends sap.ui.webc.base.UI5Element\n * @tagname udex-accordion-item\n * @public\n */\n@customElement({\n  tag: \"udex-accordion-item\",\n  renderer: litRender,\n  styles: AccordionItemCss,\n  template: AccordionItemTemplate,\n  dependencies: [],\n})\n\n/**\n * Triggered when the user focuses on an accordion item.\n * @public\n */\n@event(\"accordion-item-focus\")\nclass AccordionItem extends UI5Element {\n  /**\n   * Defines the title of the accordion item component.\n   *\n   * @type {string}\n   * @name sap.ui.webc.web-components.AccordionItem.prototype.title\n   * @defaultvalue \"\"\n   * @public\n   */\n  @property({ type: String }) title!: string;\n\n  /**\n   * Used internally to understand the component's open or closed state.\n   *\n   * @type {Boolean}\n   * @name sap.ui.webc.web-components.AccordionItem.prototype.isOpen\n   * @defaultvalue false\n   * @private\n   */\n  @property({ type: Boolean, noAttribute: true }) isOpen = false;\n\n  /**\n   * Defines direction of the accordion item.\n   *\n   * @type {string}\n   * @name sap.ui.webc.udex.AccordionItem.prototype.direction\n   * @public\n   */\n  @property({ type: String }) _direction?: string;\n\n  /**\n   * Slot for accordion item content.\n   *\n   * @type {Node[]}\n   * @name sap.ui.webc.web-components.AccordionItem.prototype.content\n   * @slot\n   * @public\n   */\n  @slot({ type: Node, \"default\": true }) content!: Array<Node>;\n\n  _el: HTMLElement | null = null;\n\n  constructor() {\n    super();\n  }\n\n  itemClickHandler(e: Event) {\n    e.preventDefault();\n    if (this._el) {\n      const isActive = this._el.classList.contains(\"active\");\n      this.toggleItemState(this._el, isActive);\n    }\n  }\n\n  toggleAllHandler(e: Event) {\n    e.preventDefault();\n    const customEvent = e as CustomEvent<ToggleAllEvent>;\n    if (this._el) { this.toggleItemState(this._el, customEvent.detail.isOpen); }\n  }\n\n  toggleItemState(el: HTMLElement, isActive: boolean) {\n    if (isActive) {\n      el.classList.remove(\"active\");\n      el.querySelector(\".udex-accordion-item__header\")?.setAttribute(\"aria-expanded\", \"false\");\n    } else {\n      el.classList.add(\"active\");\n      el.querySelector(\".udex-accordion-item__header\")?.setAttribute(\"aria-expanded\", \"true\");\n    }\n  }\n\n  focusHandler() {\n    this.fireEvent(\"accordion-item-focus\");\n  }\n\n  keydownHandler(e: KeyboardEvent) {\n    switch (e.key) {\n    case \"Enter\":\n    case \" \":\n      this.itemClickHandler(e);\n      break;\n    default:\n      break;\n    }\n  }\n\n  get accordionItemsClass(): string {\n    let classes = \"udex-accordion-item\";\n    if (this._direction === \"rtl\") {\n      classes = `${classes} ${this._direction}`;\n    }\n    return classes;\n  }\n\n  onAfterRendering() {\n    this._el = this.shadowRoot?.querySelector(\".udex-accordion-item\") || null;\n    const accordion = this.shadowRoot?.querySelector<HTMLElement>(\n      \".udex-accordion-item\",\n    ) || null;\n\n    if (accordion) {\n      const directionStyles: string = window\n        .getComputedStyle(accordion)\n        .getPropertyValue(\"direction\");\n      if (!directionStyles) {\n        this._direction = \"ltr\";\n      } else {\n        this._direction = directionStyles;\n      }\n    }\n\n    this?.parentElement?.addEventListener(\"ui5-toggle-items\", this.toggleAllHandler.bind(this));\n  }\n}\n\nAccordionItem.define();\n\nexport default AccordionItem;\n"]}