{"version":3,"file":"TruncatedText.js","sourceRoot":"","sources":["../src/TruncatedText.ts"],"names":[],"mappings":"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","sourcesContent":["import UI5Element from \"@ui5/webcomponents-base/dist/UI5Element.js\";\nimport customElement from \"@ui5/webcomponents-base/dist/decorators/customElement.js\";\nimport property from \"@ui5/webcomponents-base/dist/decorators/property.js\";\nimport litRender from \"@ui5/webcomponents-base/dist/renderer/LitRenderer.js\";\nimport Integer from \"@ui5/webcomponents-base/dist/types/Integer.js\";\nimport I18nBundle, { getI18nBundle } from \"@ui5/webcomponents-base/dist/i18nBundle.js\";\nimport { READ_LESS, READ_MORE } from \"./generated/i18n/i18n-defaults.js\";\n\n// Template\nimport TruncatedTextTemplate from \"./generated/templates/TruncatedTextTemplate.lit.js\";\n\n// Styles\nimport TruncatedTextCss from \"./generated/themes/TruncatedText.css.js\";\n\nenum ErrorVariableName {\n  charLimit = \"char-limit\"\n}\n\nconst ellipsisSymbols = \"...\";\nconst lineEndRegExp = new RegExp(/($)|([,.]+)$|([,.]+)?\\s+(\\S*)$/);\n\n/**\n * @class\n *\n * <h3 class=\"comment-api-title\">Overview</h3>\n *\n * The <code> udex-truncated-text </code> component is a component used to limit and toggle text visibility.\n *\n * @constructor\n * @alias udex.components.TruncatedText\n * @extends sap.ui.webc.base.UI5Element\n * @tagname udex-truncated-text\n * @public\n */\n@customElement({\n  tag: \"udex-truncated-text\",\n  renderer: litRender,\n  styles: TruncatedTextCss,\n  template: TruncatedTextTemplate,\n})\n\nclass TruncatedText extends UI5Element {\n  /**\n  * Defines if the text is initially expanded.\n  * @public\n  * @name udex.components.TruncatedText.prototype.initiallyExpanded\n  * @type { boolean }\n  */\n  @property({ type: Boolean })\n    initiallyExpanded!: boolean;\n\n  /**\n   * Defines direction of the text.\n   * @private\n   * @type {string}\n   * @name udex.components.TruncatedText.prototype.direction\n   */\n  @property({ type: String })\n    _direction?: string;\n\n  /**\n  * Indicates the element text\n  * @public\n  * @name udex.components.TruncatedText.prototype.text\n  * @type { string }\n  */\n  @property({ type: String })\n    text!: string;\n\n  /**\n  * Indicates the limit for chars\n  * @public\n  * @name udex.components.TruncatedText.prototype.charLimit\n  * @type { Integer }\n  * @defaultvalue 150\n  */\n  @property({ defaultValue: 150, type: Integer })\n    charLimit!: Integer;\n\n  static i18nBundle: I18nBundle;\n\n  constructor() {\n    super();\n  }\n\n  static async onDefine() {\n    TruncatedText.i18nBundle = await getI18nBundle(\"sap-ui-webcomponents-bundle\");\n  }\n\n  get visibleText() {\n    return this.initiallyExpanded ? `${this.text} ` : this.truncatedText;\n  }\n\n  get truncatedText() {\n    return this.text.substring(0, this.cropAfter()).replace(lineEndRegExp, ellipsisSymbols);\n  }\n\n  get buttonLabel() {\n    return this.initiallyExpanded\n      ? TruncatedText.i18nBundle.getText(READ_LESS)\n      : TruncatedText.i18nBundle.getText(READ_MORE);\n  }\n\n  get validatedCharLimit() {\n    return (Number(this.charLimit) < 0) ? 0 : this.charLimit;\n  }\n\n  onBeforeRendering(): void {\n    this.validateVariables(ErrorVariableName.charLimit, Number(this.charLimit));\n  }\n\n  cropAfter(): number {\n    return this.text.substring(0, Number(this.validatedCharLimit)).trim().length;\n  }\n\n  validateVariables(name: string, value: number): void {\n    if (value < 0) {\n      console.warn(`The variable ${name} cannot take a negative value`);\n    }\n  }\n\n  onToggleClick(): void {\n    this.initiallyExpanded = !this.initiallyExpanded;\n  }\n}\n\nTruncatedText.define();\n\nexport default TruncatedText;\n"]}