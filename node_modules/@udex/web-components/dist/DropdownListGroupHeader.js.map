{"version":3,"file":"DropdownListGroupHeader.js","sourceRoot":"","sources":["../src/DropdownListGroupHeader.ts"],"names":[],"mappings":"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","sourcesContent":["import UI5Element from \"@ui5/webcomponents-base/dist/UI5Element.js\";\nimport customElement from \"@ui5/webcomponents-base/dist/decorators/customElement.js\";\nimport property from \"@ui5/webcomponents-base/dist/decorators/property.js\";\nimport slot from \"@ui5/webcomponents-base/dist/decorators/slot.js\";\nimport litRender from \"@ui5/webcomponents-base/dist/renderer/LitRenderer.js\";\nimport { isEnter, isSpace } from \"@ui5/webcomponents-base/dist/Keys.js\";\nimport { DropdownListMode } from \"./DropdownList.js\";\nimport DropdownListItem from \"./DropdownListItem.js\";\nimport DropdownListGroupHeaderTemplate from \"./generated/templates/DropdownListGroupHeaderTemplate.lit.js\";\n\n// Styles\nimport DropdownListGroupHeaderCss from \"./generated/themes/DropdownListGroupHeader.css.js\";\n\n/**\n * @class\n *\n * <h3 class=\"comment-api-title\">Overview</h3>\n *\n *\n * <h3>Usage</h3>\n *\n * For the <code>udex-dropdown-list-group-header</code>\n * <h3>ES6 Module Import</h3>\n *\n * <code>import @udex/web-components/dist/DropdownListGroupHeader.js\";</code>\n *\n * @constructor\n * @author SAP SE\n * @alias sap.ui.webc.web-components.DropdownListGroupHeader\n * @extends sap.ui.webc.base.UI5Element\n * @tagname udex-dropdown-list-group-header\n * @public\n */\n@customElement({\n  tag: \"udex-dropdown-list-group-header\",\n  renderer: litRender,\n  styles: DropdownListGroupHeaderCss,\n  template: DropdownListGroupHeaderTemplate,\n  dependencies: [],\n})\n\nclass DropdownListGroupHeader extends UI5Element {\n  /**\n   * Defines the title of the GroupHeader item component.\n   *\n   * @type {string}\n   * @name sap.ui.webc.web-components.DropdownListGroupHeader.prototype.title\n   * @public\n   */\n  @property()\n  label!: string;\n\n  /**\n   * Defines the supportingText, displayed in the end of the item.\n   *\n   * @type {string}\n   * @name sap.ui.webc.web-components.DropdownListGroupHeader.prototype.supportingText\n   * @public\n   */\n  @property()\n  supportingText!: string;\n\n  /**\n   * Defines the mode of the item.\n   *\n   * @type {string}\n   * @name sap.ui.webc.web-components.DropdownListGroupHeader.prototype.mode\n   * @defaultvalue \"SingleSelect\"\n   * @public\n   */\n  @property({ type: DropdownListMode, defaultValue: DropdownListMode.SingleSelect })\n  mode!: `${DropdownListMode}`;\n\n  /**\n   * Slot for dropdown list items.\n   *\n   * @type @type {HTMLElement[]}\n   * @name sap.ui.webc.web-components.DropdownListGroupHeader.prototype.default\n   * @slot items\n   * @public\n   */\n  @slot({ type: HTMLElement, \"default\": true })\n  items!: Array<HTMLElement>;\n\n  onBeforeRendering() {\n    this.prepareListItems();\n  }\n\n  handleHeaderPress(e: MouseEvent | KeyboardEvent) {\n    const headerItem = this.getHeaderItem();\n    const isAllSelected = this.checkSelection(true);\n    const isAllDeselected = this.checkSelection(false);\n\n    if (isAllDeselected || headerItem.indeterminate) {\n      this.toggleAllItems(true);\n      this.activateHeader();\n    }\n\n    if (isAllSelected) {\n      this.toggleAllItems(false);\n      this.deactivateHeader();\n    }\n\n    this.fireHeaderPress(e);\n  }\n\n  handleGroupItemsClick() {\n    const isAllSelected = this.checkSelection(true);\n    const isAllDeselected = this.checkSelection(false);\n\n    if (isAllDeselected) {\n      this.deactivateHeader();\n      return;\n    }\n\n    if (isAllSelected) {\n      this.activateHeader();\n      return;\n    }\n\n    this.activateHeaderIndeterminate();\n  }\n\n  handleKeyDown(e: KeyboardEvent) {\n    if (isSpace(e) || isEnter(e)) {\n      this.handleHeaderPress(e);\n    }\n    if (isEnter(e)) {\n      this.fireHeaderPress(e);\n    }\n  }\n\n  activateHeaderIndeterminate() {\n    const headerItem = this.getHeaderItem();\n    headerItem.selected = true;\n    headerItem.indeterminate = true;\n  }\n\n  activateHeader() {\n    const headerItem = this.getHeaderItem();\n    headerItem.selected = true;\n    headerItem.indeterminate = false;\n  }\n\n  deactivateHeader() {\n    const headerItem = this.getHeaderItem();\n    headerItem.selected = false;\n    headerItem.indeterminate = false;\n  }\n\n  toggleAllItems(select: boolean) {\n    const items = this.filterDisabledItems();\n    items.forEach(item => {\n      item.selected = select;\n    });\n  }\n\n  checkSelection(selected:boolean) {\n    const items = this.filterDisabledItems();\n    return items.every(item => item.selected === selected);\n  }\n\n  filterDisabledItems() {\n    return this.getItems().filter(({ disabled }) => !disabled);\n  }\n\n  fireHeaderPress(e: Event) {\n    if (isEnter(e as KeyboardEvent)) {\n      e.preventDefault();\n    }\n    this.fireEvent(\"header-press\");\n  }\n\n  getItems(): Array<DropdownListItem> {\n    return this.getSlottedNodes<DropdownListItem>(\"items\");\n  }\n\n  getHeaderItem(): DropdownListItem {\n    return this.shadowRoot!.querySelector(\".udex-dropdown-list__group-header\")!;\n  }\n\n  prepareListItems() {\n    const items = this.getItems();\n    const className = \"udex-dropdown-list__item\";\n    items.forEach(item => {\n      const child = item.shadowRoot?.querySelector(`.${className}`);\n      child?.classList.add(`${className}_group`);\n    });\n  }\n\n  getHandleGroupItemsClick() {\n    return this.modeMultiSelect ? this.handleGroupItemsClick() : undefined;\n  }\n\n  get modeMultiSelect() {\n    return this.mode === DropdownListMode.MultiSelect;\n  }\n}\n\nDropdownListGroupHeader.define();\n\nexport default DropdownListGroupHeader;\n"]}